{"version":3,"file":"Impl.js","names":["Context","Layer","Effect"],"sources":["../../../src/server/Impl.ts"],"sourcesContent":["import { Context, Effect, Layer } from \"effect\";\nimport type * as Api from \"./Api\";\nimport type * as GroupImpl from \"./GroupImpl\";\n\nexport class Impl extends Context.Tag(\"@rjdellecese/confect/server/Impl\")<\n  Impl,\n  {\n    readonly api: Api.Api.AnyWithProps;\n    readonly context: Context.Context<never>;\n  }\n>() {}\n\nexport const make = <Api_ extends Api.Api.AnyWithProps>(\n  api: Api_,\n): Layer.Layer<\n  Impl,\n  never,\n  GroupImpl.GroupImpl.FromGroups<Api.Api.Groups<Api_>>\n> =>\n  Layer.effect(\n    Impl,\n    Effect.map(Effect.context(), (context) => ({\n      api,\n      context,\n    })),\n  );\n"],"mappings":";;;;;;;;AAIA,IAAa,OAAb,cAA0BA,eAAQ,IAAI,mCAAmC,EAMtE,CAAC;AAEJ,MAAa,QACX,QAMAC,aAAM,OACJ,MACAC,cAAO,IAAIA,cAAO,SAAS,GAAG,aAAa;CACzC;CACA;CACD,EAAE,CACJ"}