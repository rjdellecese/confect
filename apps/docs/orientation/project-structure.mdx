---
icon: "folder-tree"
title: "Project Structure"
description: "Understand the structure of a Confect project."
---

<Tree>
  <Tree.Folder name="confect" defaultOpen>
    <Tree.Folder name="_generated" defaultOpen>
      <Tree.File name="api.ts" />
      <Tree.File name="nodeApi.ts" />
      <Tree.File name="nodeRegisteredFunctions.ts" />
      <Tree.File name="registeredFunctions.ts" />
      <Tree.File name="refs.ts" />
      <Tree.File name="services.ts" />
    </Tree.Folder>
    <Tree.File name="app.ts" />
    <Tree.File name="auth.ts" />
    <Tree.File name="crons.ts" />
    <Tree.File name="http.ts" />
    <Tree.File name="impl.ts" />
    <Tree.File name="nodeImpl.ts" />
    <Tree.File name="nodeSpec.ts" />
    <Tree.File name="schema.ts" />
    <Tree.File name="spec.ts" />
  </Tree.Folder>
  <Tree.Folder name="convex" />
</Tree>

## `confect/`

### `_generated/`

#### `api.ts`

Contains a single default `Api` export, which combines your database schema and spec. Pass this as the first argument to the `Impl.make`, `GroupImpl.make`, and `FunctionImpl.make` constructor functions when building your spec's implementation.

#### `nodeApi.ts`

<Info>
  This file will only be generated if `confect/nodeSpec.ts` exists.
</Info>

Contains a single default `Api` export, which combines your database schema and Node spec. Pass this as the first argument to the `Impl.make`, `GroupImpl.make`, and `FunctionImpl.make` constructor functions when building your spec's implementation.

#### `nodeRegisteredFunctions.ts`

<Info>
  This file will only be generated if `confect/nodeSpec.ts` exists.
</Info>

Contains a single default `RegisteredFunctions` export, which is a type-correct map of your Node actions, in the format that the Convex CLI can consume for bundling and deployment. You should never need to import this yourself—it is meant to be used internally by the Confect CLI for codegen in the `convex/` directory.

#### `registeredFunctions.ts`

Contains a single default `RegisteredFunctions` export, which is a type-correct map of your Convex functions, in the format that the Convex CLI can consume for bundling and deployment. You should never need to import this yourself—it is meant to be used internally by the Confect CLI for codegen in the `convex/` directory.

#### `refs.ts`

Contains a single default `Refs` export, which is a map of your Convex functions and their [function names](https://docs.convex.dev/api/modules/server#getfunctionname) and args/returns `Schema`s. Use this to invoke your Convex functions from the client or inside Convex functions using the `*Runner` services (`QueryRunner`, `MutationRunner`, and `ActionRunner`).

#### `services.ts`

Contains Effect service wrappers for Convex platform capabilities, scoped to your app's database schema. Use these in your function implementation handlers. See [Services](/orientation/services) for a full list.

### `app.ts`

<Badge color="yellow">Optional</Badge>

Corresponds 1:1 with `convex/convex.config.ts`. Use this to [install components](https://docs.convex.dev/components/using).

### `auth.ts`

<Badge color="yellow">Optional</Badge>

Corresponds 1:1 with `convex/auth.config.ts`. Use this to [configure auth](https://docs.convex.dev/auth).

### `crons.ts`

<Badge color="yellow">Optional</Badge>

Corresponds 1:1 with `convex/crons.ts`. Use this to [define cron jobs](https://docs.convex.dev/scheduling/cron-jobs).

### `http.ts`

<Badge color="yellow">Optional</Badge>

Expects a default Convex `HttpRouter` export. Construct this using Confect's `HttpApi.make` and `@effect/platform`'s [HTTP API modules](https://github.com/Effect-TS/effect/blob/main/packages/platform/README.md#http-api).

### `impl.ts`

<Badge color="green">Required</Badge>

Expects a default `Impl` export which implements the `Spec` in `spec.ts`. Remember that your `Impl` must be finalized with `Impl.finalize`.

### `nodeImpl.ts`

<Badge color="yellow">Optional</Badge>

Expects a default `Impl` export which implements the Node actions `Spec` in `nodeSpec.ts`. Remember that your `Impl` must be finalized with `Impl.finalize`.

### `nodeSpec.ts`

<Badge color="yellow">Optional</Badge>

Expects a default `Spec` export containing the interface of your Node actions API.

### `schema.ts`

<Badge color="green">Required</Badge>

Expects a default `DatabaseSchema` export which specifies your Convex database table schemas.

### `spec.ts`

<Badge color="green">Required</Badge>

Expects a default `Spec` export containing the interface of your Convex functions API.

## Rules

- Your `confect/` directory should always be a sibling of your `convex/` directory.
- The `confect/_generated/` directory is generated by the Confect CLI. You should never modify files in this directory directly.
- Confect treats the `convex` directory as a codegen target. While using Confect, you should never modify files in the `convex` folder directly, except for `tsconfig.json`.
